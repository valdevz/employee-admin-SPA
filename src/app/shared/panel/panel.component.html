<div *ngIf="user != null" class="main container">
  <div class="row">
    <div class="image-container col-12 col-md-3 text-center">
      <img width="150px" src="../../../assets/images/userProfile.jpeg" alt="">
    </div>
    <div class="data-container col-12 col-md-9">
      <div class="row">
        <div class="col-12 col-md-6">
          <p *ngIf="currentRol != 'ADMIN' || !isEditing"><strong>Nombre(s):</strong> {{ user.uName }}</p>
          <p *ngIf="currentRol == 'ADMIN' && isEditing"><strong>Nombre(s):</strong><input #name ngModel="{{user.uName}}" type="text"></p>
          <p><strong>Usuario:</strong> {{ user.userId }}</p>
          <p *ngIf="currentRol != 'ADMIN' || !isEditing"><strong>Rol:</strong> {{ user.rol }}</p>
          <p *ngIf="currentRol == 'ADMIN' && isEditing"><strong>Rol:</strong><input #rol ngModel="{{user.rol}}" type="text"></p>
          <p *ngIf="currentRol != 'ADMIN' || !isEditing"><strong>Fecha de nacimiento:</strong> {{ user.dateOfBirth | date:'mediumDate' }}</p>
          <p *ngIf="currentRol == 'ADMIN' && isEditing"><strong>Fecha de nacimiento:</strong><input #dateOfBirth [valueAsDate]="user.dateOfBirth" ngModel="{{user.dateOfBirth | date:'dd/M/yyyy'}}" type="date"></p>
        </div>
        <div class="col-12 col-md-6">
          <p *ngIf="currentRol != 'ADMIN' || !isEditing"><strong>Apellidos:</strong> {{ user.lastname }}</p>
          <p *ngIf="currentRol == 'ADMIN' && isEditing"><strong>Apellidos:</strong><input #lastnames *ngIf="currentRol == 'ADMIN' || currentRol == 'EDITOR' && isEditing" ngModel="{{ user.lastname }}" type="text"></p>


          <p *ngIf="!isEditing"><strong>Email:</strong> {{ user.emailId }}</p>
          <p *ngIf="currentRol != 'USER' && isEditing"><strong>Email:</strong><input #email *ngIf="currentRol == 'ADMIN' || currentRol == 'EDITOR' && isEditing" ngModel="{{user.emailId}}" type="text"></p>
          <p *ngIf="!isEditing"><strong>Teléfono:</strong> {{ user.phoneNo }}</p>
          <p *ngIf="currentRol != 'USER' && isEditing"><strong>Teléfono:</strong><input #phone *ngIf="currentRol == 'ADMIN' || currentRol == 'EDITOR' && isEditing" ngModel="{{user.phoneNo}}" type="text"></p>
        </div>
        <div class="col-12 col-md-12">
          <p><strong>Dirección:</strong> {{ user.address }}</p>
          <!-- <input #address *ngIf="currentRol == 'ADMIN' || currentRol == 'EDITOR' && isEditing" ngModel="{{user.address}}" type="text"> -->
        </div>
      </div>
    </div>
  </div>
  <section class="editor-container d-flex justify-content-end">
    <div *ngIf="currentRol == 'ADMIN' || currentRol == 'EDITOR'" class="actions-container">
      <button *ngIf="!isEditing" (click)="editUser( 'edit' )" class="btn btn-primary" type="button">Editar</button>
      <button *ngIf="isEditing" (click)="editUser( 'cancel' )" class="btn btn-danger" type="button">Cancelar</button>
      <button *ngIf="isEditing" (click)="editUser( 'save' )" class="btn btn-success" type="button">Guardar</button>
    </div>
  </section>
</div>
<div *ngIf="user === null" class="main container" >
  <table class="table table-striped">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Usuario</th>
      <th scope="col">Nombre</th>
      <th scope="col">Apellido</th>
      <th *ngIf="currentRol == 'ADMIN' || currentRol == 'EDITOR'" scope="col">Rol</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let user of allUsers | keyvalue;let i = index">
      <th scope="row">{{((page - 1) * 10) + i + 1 }}</th>
      <td class="link-info" (click)="selectUser(user.value.userId)">{{ user.value.userId  }}</td>
      <td>{{ user.value.uName }}</td>
      <td>{{ user.value.lastname  }}</td>
      <td *ngIf="currentRol == 'ADMIN' || currentRol == 'EDITOR'">{{ user.value.rol  }}</td>
    </tr>
    </tbody>
  </table>
  <div class="container pagination">
    <div [ngClass]="{'visibility': prevPage}" (click)="prevPageFunc()" style="cursor: pointer; margin-right: 32px;"><fa-icon [icon]="leftArrow"></fa-icon> Pág. anterior</div>
    <div [ngClass]="{'visibility': nextPage}" (click)="nextPageFunc()" style="cursor: pointer;">Siguiente pág.<fa-icon [icon]="rightArrow"></fa-icon></div>
    <span style="margin-left: 20px">{{ page*10 }} de {{ collectionSize }}</span>
  </div>

  <!-- <app-google-component></app-google-component> -->

</div>

